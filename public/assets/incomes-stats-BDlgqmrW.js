import{r as i,ai as h,s as b,u as g,j as d,a as f,ab as C,F as L}from"./index-B-hmDOvL.js";import{C as I,b as y,L as j,c as B,d as k,e as w,p as E,a as T,f as v}from"./index-Ipos_J1W.js";const p=()=>{const t=i.useContext(h);if(!t)throw new Error("Income Store has not been installed!");return t},V=b(t=>{const{reset:s,isValid:n,handleSubmit:c,onSubmit:o}=t,{createIncome:e}=p(),{t:r}=g(),[a,u]=i.useState(!1),l=async m=>{m.preventDefault(),u(!0),await c(e)(),u(!1),n&&(o(),s())};return d.jsx(f,{isLoading:a,onClick:l,loadingText:r("crud.buttons.createButtonLoadingText"),children:r("crud.buttons.createButton")})}),_=b(t=>{const{t:s}=g(),{id:n,reset:c,isValid:o,handleSubmit:e,onSubmit:r}=t,{updateIncome:a}=p(),[u,l]=i.useState(!1),m=async S=>{S.preventDefault(),l(!0),await e(x=>a(x,n))(),l(!1),o&&(r(),c())};return d.jsx(f,{onClick:m,isLoading:u,loadingText:s("crud.buttons.updateButtonLoadingText"),children:s("crud.buttons.updateButton")})});I.register(y,j,B,k,w,E,T);const A=b(()=>{const{t}=g(),{getIncomesStats:s,incomesStats:n}=p(),[c,o]=i.useState(!1),{user:e}=C();i.useEffect(()=>{(async()=>(o(!0),await s(),o(!1)))()},[e.currency]);const r={labels:n.labels,datasets:[{label:t("stats.incomes"),data:n.values,borderColor:"rgba(54, 162, 235, 1)",backgroundColor:"rgba(54, 162, 235, 0.2)"}]};if(!c)return d.jsx(L,{h:400,justifyContent:"center",children:d.jsx(v,{data:r,options:{maintainAspectRatio:!1,animation:{duration:0},scales:{y:{ticks:{callback:a=>`${a} ${e.currency.code}`}}},plugins:{tooltip:{callbacks:{label:a=>`${a.formattedValue} ${e.currency.code}`}}}},width:"100%"})})});export{V as C,A as I,_ as U,p as u};
